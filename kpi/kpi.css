/* ==========================================================================
   ROOT VARIABLES (Supertram brand styling)
   ========================================================================== */
:root{
  --st-blue:#003d73;
  --st-blue-2:#005fa3;
  --st-accent:#ffcc00;

  --green:#1a7f37;
  --orange:#cc7a00;
  --red:#c91d1d;

  --bg:#f6f7f9;
  --card:#ffffff;
  --muted:#6b7280;
  --border:#e5e7eb;

  --shadow:0 2px 10px rgba(0,0,0,.08);
  --shadow-hover:0 8px 24px rgba(0,0,0,.16);

  --radius:12px;
  --container:1200px;
}

/* ==========================================================================
   GLOBAL
   ========================================================================== */
*{ box-sizing:border-box; }

html,body{
  margin:0;
  padding:0;
  background:var(--bg);
  color:#111;
  font-family:"Segoe UI", Roboto, Inter, system-ui, sans-serif;
  line-height:1.45;
}

a{ color:var(--st-blue); text-decoration:none; }
a:hover{ text-decoration:underline; }

/* ==========================================================================
   TOP BAR
   ========================================================================== */
.topnav{
  position:sticky;
  top:0;
  z-index:20;
  background:#fff;
  border-bottom:1px solid var(--border);
  padding:10px 16px;
  display:grid;
  place-items:center;
}
.topnav .title{
  font-weight:600;
  color:var(--st-blue);
  font-size:22px;
}

/* ==========================================================================
   HERO HEADER
   ========================================================================== */
.st-hero{
  position:relative;
  width:100%;
  height:160px;
  background:url("../RBSupertram (1).jpg") center/cover no-repeat;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  border-bottom:1px solid var(--border);
  overflow:hidden;
}

.st-hero::before{
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.28);
}

.logo-wrap{ position:relative; z-index:2; }
.st-logo{
  height:56px;
  filter:drop-shadow(0 2px 6px rgba(0,0,0,.45));
}

/* ==========================================================================
   MAIN CONTAINER
   ========================================================================== */
.container{
  max-width:var(--container);
  margin:22px auto;
  padding:0 16px;
}

/* ==========================================================================
   FILTERS
   ========================================================================== */
.filters.card{
  margin-bottom:20px;
}

.filters h2{
  margin:0 0 12px 0;
  font-size:20px;
  font-weight:600;
}

.filters .filters-row{
  display:grid;
  gap:12px;
  grid-template-columns: repeat(12, 1fr);
}

.filters .field{
  grid-column: span 3;
}

.filters .field.right{
  display:flex;
  align-items:end;
  gap:12px;
  justify-content:flex-end;
}

label{
  display:block;
  font-size:13px;
  color:var(--muted);
  margin-bottom:6px;
}

input[type="date"], select{
  width:100%;
  padding:8px 10px;
  border:1px solid var(--border);
  border-radius:8px;
  background:#fff;
}

.btn{
  background:var(--st-blue);
  color:#fff;
  padding:10px 12px;
  border-radius:10px;
  font-weight:600;
  font-size:14px;
  border:1px solid transparent;
  cursor:pointer;
}
.btn:hover{ background:var(--st-blue-2); }

.btn.secondary{
  background:#fff;
  color:var(--st-blue);
  border-color:var(--st-blue);
}
.btn.secondary:hover{
  background:#f0f5fb;
}

/* ==========================================================================
   KPI GRID + KPI CARDS
   ========================================================================== */
.kpis-grid{
  display:grid;
  gap:14px;
  margin:20px 0;
  grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
}

.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:18px;
  transition:all .18s ease;
}
.card:hover{
  transform:translateY(-3px);
  box-shadow:var(--shadow-hover);
}

.kpi-title{
  color:var(--muted);
  font-size:14px;
  font-weight:600;
  margin-bottom:4px;
  display:flex;
  align-items:center;
  gap:6px;
}

.kpi-icon{
  font-size:18px;
}

/* KPI Number */
.kpi-num{
  font-size:32px;
  font-weight:700;
  color:var(--st-blue);
  margin-bottom:4px;
  transition:color .2s ease;
}

/* KPI Trend Rows */
.kpi-trend{
  font-size:14px;
  color:var(--muted);
  margin-bottom:6px;
  line-height:1.2;
}

/* Trend Styles */
.trend-up{
  color:var(--green);
  font-weight:700;
}
.trend-down{
  color:var(--red);
  font-weight:700;
}
.trend-same{
  color:var(--muted);
  font-weight:700;
}

/* Ensure both arrows sit nicely */
.kpi-trend span{
  display:inline-block;
  margin-right:8px;
  white-space:nowrap;
}

/* === Animated Count Up (CSS-side support) === */
.animate-number{
  transition:all .3s ease;
}

/* ==========================================================================
   KPI BREAKDOWN LINE
   ========================================================================== */
.kpi-sub{
  font-size:15px;
  font-weight:600;
  white-space:nowrap !important;
  overflow:hidden;
  text-overflow:ellipsis;
}

.kpi-sub span{
  display:inline-block;
  white-space:nowrap;
}

.kpi-closed{
  color:var(--green);
  font-weight:700;
}

.kpi-open{
  color:var(--orange);
  font-weight:700;
}

.kpi-overdue{
  color:var(--red);
  font-weight:700;
}

/* ==========================================================================
   CHARTS GRID
   ========================================================================== */
.charts-grid{
  display:grid;
  gap:20px;
  margin:20px 0;
  grid-template-columns: repeat(auto-fit, minmax(300px,1fr));
}

/* ==========================================================================
   TABLES
   ========================================================================== */
.tables-grid{
  display:grid;
  gap:20px;
  margin:20px 0 40px;
  grid-template-columns: repeat(auto-fit, minmax(350px,1fr));
}

.table{
  width:100%;
  border-collapse:collapse;
  font-size:14px;
}

.table th, .table td{
  padding:8px 10px;
  border-bottom:1px solid var(--border);
}

.table th{
  color:#333;
  text-align:left;
}

/* Hover row effect */
.table tr:hover{ background:#fafafa; }

/* ==========================================================================
   FOOTER
   ========================================================================== */
footer{
  margin:40px 0 20px;
  text-align:center;
  color:#666;
  font-size:14px;
}

/* ==========================================================================
   RESPONSIVE
   ========================================================================== */
@media (max-width:650px){
  .filters .field{
    grid-column: span 12;
  }
  .st-hero{ height:120px; }
  .st-logo{ height:44px; }
}
